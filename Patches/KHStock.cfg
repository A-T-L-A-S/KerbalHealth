@PART[*]:HAS[#CrewCapacity[>0],~name[*Cockpit*],~name[*cupola*],!RESOURCE[RadiationShielding]]:AFTER[KerbalHealth]
{
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = #$../CrewCapacity$0
	}
}

@PART[landerCabinSmall]
{
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 5
	}
}

@PART[mk2LanderCabin]
{
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 10
	}
}

@PART[crewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1.25
		multiplyFactor = Crowded
		multiplier = 0.375
		crewCap = 4
	}
}

@PART[MK1CrewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1.25
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 2
	}
}

@PART[mk2CrewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 4
	}
}

@PART[mk3CrewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 16
	}
}

@PART[cupola]
{
	MODULE
	{
		name = ModuleKerbalHealth
		hpMarginalChangePerDay = 1
		resourceConsumptionPerKerbal = 1
	}
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 2
	}
}

@PART[Large_Crewed_Lab]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Sickness
		multiplier = 0.5
		crewCap = 2
		partCrewOnly = true
	}
}

@PART[HeatShield0]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 0.5
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 0.125
	}
}

@PART[HeatShield1]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 2
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 5
	}
}

@PART[HeatShield2]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 10
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 25
	}
}

@PART[HeatShield3]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 20
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 50
	}
}

@PART[InflatableHeatShield]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 20
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 50
	}
}

@PART[structuralPanel1]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 1.5
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 3
	}
}

@PART[structuralPanel2]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 6
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 12
	}
}

@PART[nuclearEngine]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		radioactivity = 250
	}
}
