@PART[*]:HAS[#CrewCapacity[>0],!name[*Cockpit*],!name[*cupola*],!RESOURCE[RadiationShielding],!MODULE[KerbalSeat]]:AFTER[KerbalHealth]
{
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = #$../CrewCapacity$
	}
}

@PART[landerCabinSmall]
{
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 0.5
	}
}

@PART[mk2LanderCabin]
{
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 1
	}
}

@PART[crewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1.25
		multiplyFactor = Crowded
		multiplier = 0.375
		crewCap = 4
	}
}

@PART[MK1CrewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1.25
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 2
	}
}

@PART[mk2CrewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 4
	}
}

@PART[mk3CrewCabin]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 16
	}
}

@PART[cupola]
{
	MODULE
	{
		name = ModuleKerbalHealth
		recuperation = 1
		resourceConsumptionPerKerbal = 1
	}
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Crowded
		multiplier = 0.5
		crewCap = 2
	}
}

@PART[Large_Crewed_Lab]
{
	MODULE
	{
		name = ModuleKerbalHealth
		resourceConsumptionPerKerbal = 1
		multiplyFactor = Sickness
		multiplier = 0.5
		crewCap = 2
		partCrewOnly = true
	}
}

@PART[HeatShield0]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 0.25
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 0.25
	}
}

@PART[HeatShield1]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 1
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 1
	}
}

@PART[HeatShield2]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 5
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 5
	}
}

@PART[HeatShield3]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 10
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 10
	}
}

@PART[InflatableHeatShield]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 10
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 10
	}
}

@PART[structuralPanel1]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 0.75
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 0.75
	}
}

@PART[structuralPanel2]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 3
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 3
	}
}

@PART[mk3CargoBayS]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 7.5
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 7.5
	}
}

@PART[mk3CargoBayM]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 15
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 15
	}
}

@PART[mk3CargoBayL]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		shielding = 30
	}
	RESOURCE
	{
		name = RadiationShielding
		amount = 0
		maxAmount = 30
	}
}

@PART[nuclearEngine]
{
	MODULE
	{
		name = ModuleKerbalHealth
		alwaysActive = true
		radioactivity = 250
	}
}
